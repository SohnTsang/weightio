:root {
  --bg: #0b0f11;
  --panel: #0f1518;
  --elev: #121a1e;
  --stroke: rgba(255, 255, 255, 0.08);
  --fg: #e7f0ed;
  --muted: #9bb3ae;
  --brand: #1a5d57; /* deep green per your brand direction */
  --brand-2: #00e0b8; /* subtle accent if needed */
  --radius: 14px;
  --shadow: 0 10px 30px rgba(0,0,0,0.35);
}

* { box-sizing: border-box; }
html, body, #root { height: 100%; }
html, body { overflow-x: hidden; }
body {
  margin: 0;
  background: var(--bg);
  color: var(--fg);
  font-family: "Outfit", ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial;
  line-height: 1.6;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

.lp { width: 100%; overflow-x: clip; }

.container {
  width: min(1120px, 100%);
  margin-left: auto; margin-right: auto;
  padding-left: max(24px, env(safe-area-inset-left));
  padding-right: max(24px, env(safe-area-inset-right));
}
.narrow { max-width: 820px; margin: 0 auto; }
.row { display: flex; gap: 16px; }
.center { align-items: center; }
.between { justify-content: space-between; }
.wrap { flex-wrap: wrap; }
.gap { gap: 12px; }
.grid { display: grid; gap: 28px; }

.h1 { font-size: clamp(32px, 5.8vw, 60px); line-height: 1.1; letter-spacing: -0.01em; margin: 6px 0 10px; }
.subhead { font-size: clamp(18px, 2.6vw, 24px); margin: 0 0 8px; color: var(--fg); opacity: 0.95; }
.h2 { font-size: clamp(26px, 4vw, 40px); letter-spacing: -0.01em; margin: 0 0 8px; }
.h3 { font-size: clamp(20px, 2.6vw, 28px); margin: 0 0 8px; }
.h4 { font-size: 18px; margin: 6px 0; }
.lead { font-size: clamp(16px, 2vw, 20px); color: var(--muted); margin: 0 0 22px; }
.small { font-size: 12px; }
.mb0 { margin-bottom: 0; }
.muted { color: var(--muted); }

/* Keep Japanese readable without odd breaks */
.h1, .subhead, .lead, p { word-break: keep-all; overflow-wrap: anywhere; hyphens: auto; }

.lp-header {
  position: -webkit-sticky; position: sticky; top: 0;
  /* Blur support with Safari prefix; will be ignored where unsupported */
  -webkit-backdrop-filter: blur(6px);
  backdrop-filter: blur(6px);
  background: linear-gradient(to bottom, rgba(11,15,17,0.85), rgba(11,15,17,0.4));
  border-bottom: 1px solid var(--stroke);
  z-index: 10;
}
/* Fallback when backdrop-filter isn't supported */
@supports not ((-webkit-backdrop-filter: blur(1px)) or (backdrop-filter: blur(1px))) {
  .lp-header { background: rgba(11,15,17,0.92); }
}
.brand { font-weight: 700; letter-spacing: 0.12em; font-size: 13px; opacity: 0.9; }
.nav { display: flex; align-items: center; gap: 18px; }
.nav a { color: var(--fg); text-decoration: none; opacity: 0.8; font-size: 14px; }
.nav a:hover { opacity: 1; }

.lang { display: flex; gap: 8px; margin-left: 8px; }
.lang-btn { border: 1px solid var(--stroke); background: transparent; color: var(--fg); height: 34px; padding: 0 10px; border-radius: 24px; font-weight: 600; opacity: 0.8; }
.lang-btn.is-active { border-color: var(--brand-2); opacity: 1; }

.btn { appearance: none; border: none; cursor: pointer; font-weight: 700; color: black; background: linear-gradient(135deg, var(--brand-2), #6cf0e1); padding: 12px 18px; border-radius: 999px; box-shadow: var(--shadow); }
.btn:hover { filter: brightness(1.05); }
.btn:active { transform: translateY(1px); }
.btn--ghost { background: transparent; border: 1px solid var(--stroke); color: var(--fg); box-shadow: none; padding: 6px 18px; border-radius: 999px; font-size: 0.9em; }
.btn--ghost:hover { border-color: rgba(255,255,255,0.18); }

.link { color: var(--fg); text-decoration: none; border-bottom: 1px solid var(--stroke); padding-bottom: 2px; opacity: 0.85; }
.link:hover { opacity: 1; border-color: rgba(255,255,255,0.2); }

.hero { padding: 72px 0 24px; border-bottom: 1px solid var(--stroke); }
.hero-grid { grid-template-columns: minmax(0,1.1fr) minmax(0,0.9fr); align-items: center; }
.eyebrow { color: var(--muted); letter-spacing: 0.28em; text-transform: uppercase; font-size: 12px; }
.cta { display: flex; align-items: center; gap: 16px; flex-wrap: wrap; }

.hero-card { display: grid; place-items: center; }
.panel { width: 100%; max-width: 520px; background: linear-gradient(180deg, var(--panel), var(--elev)); border: 1px solid var(--stroke); border-radius: var(--radius); padding: 22px; box-shadow: var(--shadow); }
.metric { display: flex; align-items: baseline; justify-content: space-between; gap: 12px; }
.metric .label { color: var(--muted); font-size: 12px; }
.metric .value { font-size: 18px; }
.divider { height: 1px; background: var(--stroke); margin: 14px 0; }
.rows { display: grid; gap: 10px; }
.fine { font-size: 11px; margin-top: 12px; }

.trust { text-align: center; margin: 40px 0 0; }

.section { padding: 84px 0; position: relative; }
.section.alt { background: linear-gradient(180deg, rgba(255,255,255,0.02), transparent); border-top: 1px solid var(--stroke); border-bottom: 1px solid var(--stroke); }

.features { grid-template-columns: repeat(3, minmax(0,1fr)); }
.card { background: linear-gradient(180deg, var(--panel), var(--elev)); border: 1px solid var(--stroke); border-radius: var(--radius); padding: 22px; box-shadow: var(--shadow); }
.card p { color: var(--muted); }

/* Split section (pains â†’ solutions) */
.split { grid-template-columns: 1fr 1fr; align-items: start; }
.bullets { margin: 16px 0 0; padding-left: 18px; }
.bullets li { margin: 8px 0; }
.solutions { display: grid; gap: 14px; }
.solution { display: grid; grid-template-columns: auto 1fr; gap: 12px; align-items: start; background: linear-gradient(180deg, var(--panel), var(--elev)); border: 1px solid var(--stroke); border-radius: var(--radius); padding: 16px; }
.badge { width: 30px; height: 30px; display: grid; place-items: center; border-radius: 999px; background: linear-gradient(135deg, var(--brand-2), #6cf0e1); color: black; font-weight: 800; font-size: 12px; }

/* Steps */
.steps { grid-template-columns: repeat(3, minmax(0,1fr)); }
.step { border-left: 2px solid rgba(255,255,255,0.08); padding-left: 18px; }
.step .num { font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace; color: var(--brand-2); opacity: 0.9; font-size: 14px; margin-bottom: 6px; }

/* Timeline */
.timeline { position: relative; margin: 26px 0 0; }
.t-item { position: relative; padding-left: 28px; margin: 18px 0; }
.t-item::before { content: ""; position: absolute; left: 10px; top: 0; bottom: -18px; width: 2px; background: rgba(255,255,255,0.08); }
.t-dot { position: absolute; left: 4px; top: 2px; width: 14px; height: 14px; border-radius: 999px; background: linear-gradient(135deg, var(--brand-2), #6cf0e1); }
.t-card { background: linear-gradient(180deg, var(--panel), var(--elev)); border: 1px solid var(--stroke); border-radius: var(--radius); padding: 14px; }

.quote { background: linear-gradient(180deg, var(--panel), var(--elev)); border: 1px solid var(--stroke); border-radius: var(--radius); padding: 26px; }
.quote p { font-size: 18px; line-height: 1.8; }

.band { padding: 28px 0; border-top: 1px solid var(--stroke); border-bottom: 1px solid var(--stroke); background: radial-gradient(400px 140px at 20% 50%, rgba(0,224,184,0.15), transparent), var(--bg); }

.lp-footer { padding: 24px 0 48px; }

/* Reveal on scroll (subtle) */
.reveal { opacity: 0; transform: translateY(10px); transition: opacity .6s ease, transform .6s ease; will-change: transform; }
.reveal.in { opacity: 1; transform: translateY(0); }

/* Responsive */
@media (max-width: 1080px) {
  .features { grid-template-columns: repeat(2, minmax(0,1fr)); }
  .split { grid-template-columns: 1fr; }
}

@media (max-width: 960px) {
  .hero-grid { grid-template-columns: 1fr; gap: 32px; }
  .nav a { display: none; } /* keep header clean on mobile */
}

@media (max-width: 640px) {
  .features { grid-template-columns: 1fr; }
  .h1 { font-size: clamp(28px, 8vw, 40px); }
  .subhead { font-size: clamp(16px, 4.5vw, 20px); }
}

/* Respect reduced motion */
@media (prefers-reduced-motion: reduce) {
  .reveal { opacity: 1 !important; transform: none !important; transition: none !important; }
}
/* ------ Enhanced Section Backgrounds ------ */

/* Hero Section - Subtle animated gradient */
.hero {
  background: 
    radial-gradient(1200px 800px at 20% -10%, rgba(26,93,87,0.3), transparent),
    radial-gradient(900px 600px at 90% 10%, rgba(0,224,184,0.2), transparent),
    var(--bg);
  overflow: hidden;
}

.hero::before {
  content: "";
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  background: 
    radial-gradient(circle at 30% 20%, rgba(26,93,87,0.15) 0%, transparent 50%),
    radial-gradient(circle at 80% 80%, rgba(0,224,184,0.1) 0%, transparent 50%);
  animation: float-bg 20s ease-in-out infinite;
  pointer-events: none;
}

/* Product Section - Clean with subtle overlay */
#product {
  background: 
    linear-gradient(135deg, rgba(255,255,255,0.03) 0%, transparent 100%),
    var(--bg);
}

/* How Section - Overflowing geometric shapes */
#how {
  background: var(--bg);
  overflow: hidden;
}

#how::before {
  content: "";
  position: absolute;
  top: -50%;
  left: -10%;
  width: 120%;
  height: 200%;
  background: 
    radial-gradient(ellipse 800px 400px at 0% 50%, rgba(26,93,87,0.08), transparent),
    radial-gradient(ellipse 600px 300px at 100% 20%, rgba(0,224,184,0.06), transparent);
  transform: rotate(-12deg);
  pointer-events: none;
  z-index: 0;
}

#how .container {
  position: relative;
  z-index: 1;
}

/* Nutrition Section - Cool flowing background */
#nutrition {
  background: 
    linear-gradient(45deg, rgba(15,21,24,0.8) 0%, var(--bg) 50%, rgba(18,26,30,0.8) 100%);
  overflow: hidden;
}

#nutrition::after {
  content: "";
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  background: 
    conic-gradient(from 180deg at 20% 30%, transparent, rgba(26,93,87,0.1), transparent),
    conic-gradient(from 0deg at 80% 70%, transparent, rgba(0,224,184,0.08), transparent);
  animation: slow-rotate 30s linear infinite;
  pointer-events: none;
}

#nutrition .container {
  position: relative;
  z-index: 1;
}

/* Adapt Section - Overflowing diagonal stripes */
#adapt {
  background: var(--bg);
  overflow: hidden;
}

#adapt::before {
  content: "";
  position: absolute;
  top: -30%;
  left: -20%;
  width: 140%;
  height: 160%;
  background: 
    repeating-linear-gradient(
      45deg,
      transparent,
      transparent 100px,
      rgba(26,93,87,0.03) 100px,
      rgba(26,93,87,0.03) 102px
    ),
    repeating-linear-gradient(
      -45deg,
      transparent,
      transparent 150px,
      rgba(0,224,184,0.02) 150px,
      rgba(0,224,184,0.02) 152px
    );
  transform: rotate(15deg);
  pointer-events: none;
}

#adapt .container {
  position: relative;
  z-index: 1;
}

/* Stories Section - Atmospheric glow */
#stories {
  background: 
    radial-gradient(ellipse 1000px 500px at 50% 0%, rgba(0,224,184,0.08), transparent),
    linear-gradient(180deg, var(--bg) 0%, rgba(15,21,24,0.95) 50%, var(--bg) 100%);
  overflow: hidden;
}

#stories::after {
  content: "";
  position: absolute;
  top: 20%;
  left: 50%;
  width: 600px;
  height: 400px;
  background: radial-gradient(circle, rgba(26,93,87,0.1) 0%, transparent 70%);
  transform: translateX(-50%);
  border-radius: 50%;
  filter: blur(40px);
  animation: pulse-glow 8s ease-in-out infinite;
  pointer-events: none;
}

#stories .container {
  position: relative;
  z-index: 1;
}

/* Band Section - Full width overflow effect */
.band {
  background: 
    linear-gradient(135deg, rgba(26,93,87,0.15) 0%, rgba(0,224,184,0.1) 100%);
  position: relative;
  overflow: hidden;
}

.band::before {
  content: "";
  position: absolute;
  top: 0;
  left: -50%;
  width: 200%;
  height: 100%;
  background: 
    repeating-linear-gradient(
      90deg,
      transparent,
      transparent 200px,
      rgba(255,255,255,0.01) 200px,
      rgba(255,255,255,0.01) 250px
    );
  animation: slide-pattern 25s linear infinite;
  pointer-events: none;
}

.band .container {
  position: relative;
  z-index: 1;
}

/* Background Animations */
@keyframes float-bg {
  0%, 100% { transform: translate(0, 0) rotate(0deg); }
  25% { transform: translate(-10px, -5px) rotate(1deg); }
  50% { transform: translate(5px, -10px) rotate(-1deg); }
  75% { transform: translate(-5px, 5px) rotate(1deg); }
}

@keyframes slow-rotate {
  0% { transform: rotate(0deg); }
  100% { transform: rotate(360deg); }
}

@keyframes pulse-glow {
  0%, 100% { opacity: 0.3; transform: translateX(-50%) scale(1); }
  50% { opacity: 0.6; transform: translateX(-50%) scale(1.1); }
}

@keyframes slide-pattern {
  0% { transform: translateX(0); }
  100% { transform: translateX(250px); }
}

/* ------ Navbar: lock height + make lang buttons identical height ------ */
.lp-header {
  position: sticky;
  top: 0;
  background: rgba(11,15,17,0.95);
  backdrop-filter: blur(20px);
  border-bottom: 1px solid var(--stroke);
  z-index: 100;
}

.lp-header .container { 
  min-height: 56px;
  display: flex;
  align-items: center;
  justify-content: space-between;
}

.brand {
  font-weight: 800;
  font-size: 18px;
  letter-spacing: 0.05em;
}

.nav {
  display: flex;
  align-items: center;
  gap: 18px;
}

.nav a {
  color: var(--fg);
  text-decoration: none;
  opacity: 0.8;
  font-size: 14px;
  transition: opacity 0.2s ease;
}

.nav a:hover {
  opacity: 1;
}

.lang {
  display: flex;
  gap: 8px;
  margin-left: 8px;
}

.lang-btn {
  height: 34px;
  line-height: 1;
  padding: 0 12px;
  display: inline-flex;
  align-items: center;
  justify-content: center;
  min-width: 44px;
  font-weight: 600;
  border: 1px solid var(--stroke);
  background: transparent;
  color: var(--fg);
  border-radius: 24px;
  opacity: 0.8;
  transition: all 0.2s ease;
  font-size: 12px;
  cursor: pointer;
}

.lang-btn:hover {
  opacity: 1;
  border-color: rgba(255,255,255,0.2);
}

.lang-btn.is-active {
  border-color: var(--brand-2);
  opacity: 1;
  background: rgba(0,224,184,0.1);
}

/* ------ Enhanced Planner Page Backgrounds ------ */

/* Planner Hero - Animated Background */
.planner-hero {
  position: relative;
  padding: 120px 0 80px;
  background: 
    radial-gradient(1200px 800px at 30% -10%, rgba(26,93,87,0.25), transparent),
    radial-gradient(900px 600px at 80% 10%, rgba(0,224,184,0.15), transparent),
    var(--bg);
  overflow: hidden;
}

.planner-hero::before {
  content: "";
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  background: 
    radial-gradient(circle at 25% 25%, rgba(26,93,87,0.12) 0%, transparent 50%),
    radial-gradient(circle at 75% 75%, rgba(0,224,184,0.08) 0%, transparent 50%);
  animation: planner-float 25s ease-in-out infinite;
  pointer-events: none;
}

.planner-hero .container {
  position: relative;
  z-index: 1;
}

/* Personal Info Section - Clean Minimal */
#personal-info {
  background: 
    linear-gradient(135deg, rgba(255,255,255,0.02) 0%, transparent 100%),
    var(--bg);
}

/* Goals & Training Section - Flowing Patterns */
#goals-training {
  background: 
    linear-gradient(45deg, rgba(15,21,24,0.6) 0%, var(--bg) 50%, rgba(18,26,30,0.6) 100%);
  overflow: hidden;
}

#goals-training::after {
  content: "";
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  background: 
    conic-gradient(from 90deg at 30% 70%, transparent, rgba(26,93,87,0.06), transparent),
    conic-gradient(from 270deg at 70% 30%, transparent, rgba(0,224,184,0.04), transparent);
  animation: planner-rotate 40s linear infinite;
  pointer-events: none;
}

#goals-training .container {
  position: relative;
  z-index: 1;
}

/* Nutrition Section - Atmospheric Glow */
#nutrition {
  background: 
    radial-gradient(ellipse 1200px 600px at 50% 0%, rgba(0,224,184,0.06), transparent),
    linear-gradient(180deg, var(--bg) 0%, rgba(15,21,24,0.9) 50%, var(--bg) 100%);
  overflow: hidden;
}

#nutrition::after {
  content: "";
  position: absolute;
  top: 30%;
  left: 50%;
  width: 800px;
  height: 500px;
  background: radial-gradient(circle, rgba(26,93,87,0.08) 0%, transparent 70%);
  transform: translateX(-50%);
  border-radius: 50%;
  filter: blur(50px);
  animation: nutrition-pulse 12s ease-in-out infinite;
  pointer-events: none;
}

#nutrition .container {
  position: relative;
  z-index: 1;
}

/* Enhanced Form Elements */
.accuracy-panel {
  background: rgba(255,255,255,0.05);
  backdrop-filter: blur(20px);
  border: 1px solid var(--stroke);
  border-radius: var(--radius);
  padding: 24px;
  margin-top: 40px;
}

.accuracy-header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  margin-bottom: 16px;
}

.accuracy-label {
  font-weight: 600;
  color: var(--fg);
  font-size: 14px;
}

.accuracy-badge {
  padding: 6px 12px;
  border-radius: 20px;
  font-size: 12px;
  font-weight: 700;
  text-transform: uppercase;
  letter-spacing: 0.5px;
}

.accuracy-calculating { background: rgba(255,255,255,0.1); color: var(--muted); }
.accuracy-low { background: rgba(255,107,107,0.2); color: #ff6b6b; }
.accuracy-med { background: rgba(255,193,7,0.2); color: #ffc107; }
.accuracy-high { background: rgba(40,167,69,0.2); color: #28a745; }

.accuracy-bar {
  width: 100%;
  height: 8px;
  background: rgba(255,255,255,0.1);
  border-radius: 4px;
  overflow: hidden;
  margin-bottom: 12px;
}

.accuracy-fill {
  height: 100%;
  background: linear-gradient(90deg, var(--brand-2), #6cf0e1);
  border-radius: 4px;
  transition: width 0.5s ease;
}

.accuracy-hint {
  font-size: 13px;
  color: var(--muted);
  text-align: center;
}

.form-grid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
  gap: 24px;
  margin-bottom: 32px;
}

.recommendation {
  background: rgba(0,224,184,0.1);
  border: 1px solid rgba(0,224,184,0.3);
  border-radius: var(--radius);
  padding: 16px;
  margin-top: 24px;
  text-align: center;
  color: var(--brand-2);
  font-weight: 600;
}

.cta-section {
  text-align: center;
  padding: 60px 0;
}

.cta-section .h3 {
  margin-bottom: 16px;
}

.cta-section .lead {
  margin-bottom: 32px;
}

.error-message {
  background: rgba(255,107,107,0.1);
  border: 1px solid rgba(255,107,107,0.3);
  border-radius: var(--radius);
  padding: 16px;
  margin-bottom: 32px;
  display: flex;
  align-items: center;
  gap: 12px;
  color: #ff6b6b;
}

.btn-loading {
  opacity: 0.8;
  cursor: not-allowed;
}

.spinner {
  width: 16px;
  height: 16px;
  border: 2px solid rgba(255,255,255,0.3);
  border-top: 2px solid white;
  border-radius: 50%;
  animation: spin 1s linear infinite;
  margin-right: 8px;
}

/* Planner Animations */
@keyframes planner-float {
  0%, 100% { transform: translate(0, 0) rotate(0deg) scale(1); }
  25% { transform: translate(-5px, -8px) rotate(1deg) scale(1.02); }
  50% { transform: translate(8px, -5px) rotate(-1deg) scale(0.98); }
  75% { transform: translate(-3px, 8px) rotate(1deg) scale(1.01); }
}

@keyframes planner-rotate {
  0% { transform: rotate(0deg); }
  100% { transform: rotate(360deg); }
}

@keyframes nutrition-pulse {
  0%, 100% { opacity: 0.25; transform: translateX(-50%) scale(1); }
  50% { opacity: 0.4; transform: translateX(-50%) scale(1.15); }
}

@keyframes spin {
  0% { transform: rotate(0deg); }
  100% { transform: rotate(360deg); }
}

/* Form Field Styling */
.field-container {
  display: flex;
  flex-direction: column;
  gap: 8px;
}

.field-label {
  font-size: 14px;
  font-weight: 600;
  color: var(--fg);
  margin-bottom: 6px;
}

/* Mobile responsiveness for backgrounds */
@media (max-width: 768px) {
  .nav a { display: none; }
  .nav .btn, .nav .lang-btn { flex: 0 0 auto; }
  
  .planner-hero {
    padding: 80px 0 60px;
  }
  
  .form-grid {
    grid-template-columns: 1fr;
    gap: 20px;
  }
  
  .cta-section {
    padding: 40px 0;
  }
  
  /* Reduce background intensity on mobile for better performance */
  .planner-hero::before,
  #goals-training::after,
  #nutrition::after,
  #how::before,
  #adapt::before,
  .band::before {
    opacity: 0.5;
  }
  
  #nutrition::after,
  #stories::after {
    opacity: 0.3;
  }
}
